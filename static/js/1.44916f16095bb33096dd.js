webpackJsonp([1],{599:function(e,r,n){n(686);var t=n(58)(n(629),n(731),"data-v-230fb611",null);e.exports=t.exports},603:function(e,r,n){e.exports={default:n(604),__esModule:!0}},604:function(e,r,n){n(605);var t=n(10).Object;e.exports=function(e,r,n){return t.defineProperty(e,r,n)}},605:function(e,r,n){var t=n(31);t(t.S+t.F*!n(32),"Object",{defineProperty:n(36).f})},614:function(e,r,n){"use strict";n.d(r,"e",function(){return l}),n.d(r,"a",function(){return d}),n.d(r,"b",function(){return f}),n.d(r,"c",function(){return p}),n.d(r,"d",function(){return v});var t=n(643),a=n.n(t),u=n(242),o=n.n(u),i=a()(["\n  query pairs {\n    pairs(first: 200, orderBy: trackedReserveETH, orderDirection: desc) {\n      id\n    }\n  }\n"],["\n  query pairs {\n    pairs(first: 200, orderBy: trackedReserveETH, orderDirection: desc) {\n      id\n    }\n  }\n"]),s=a()(["\n  ","\n  query pairs($allPairs: [Bytes]!) {\n    pairs(where: { id_in: $allPairs }, orderBy: trackedReserveETH, orderDirection: desc) {\n      ...PairFields\n    }\n  }\n"],["\n  ","\n  query pairs($allPairs: [Bytes]!) {\n    pairs(where: { id_in: $allPairs }, orderBy: trackedReserveETH, orderDirection: desc) {\n      ...PairFields\n    }\n  }\n"]),c="\n  fragment PairFields on Pair {\n    id\n    txCount\n    token0 {\n      id\n      symbol\n      name\n      totalLiquidity\n      derivedETH\n    }\n    token1 {\n      id\n      symbol\n      name\n      totalLiquidity\n      derivedETH\n    }\n    reserve0\n    reserve1\n    reserveUSD\n    totalSupply\n    trackedReserveETH\n    reserveETH\n    volumeUSD\n    untrackedVolumeUSD\n    token0Price\n    token1Price\n    createdAtTimestamp\n  }\n",l=function(e){var r="query blocks {";return r+=e.map(function(e){return"t"+e+":blocks(first: 1, orderBy: timestamp, orderDirection: desc, where: { timestamp_gt: "+e+", timestamp_lt: "+(e+600)+" }) {\n    number\n    }"}),r+="}",o()(r)},d=o()(i),f=o()(s,c),p=function(e,r){var n="[";r.map(function(e){return n+='"'+e+'"'}),n+="]";var t="\n    query pairs {\n      pairs(first: 200, where: {id_in: "+n+"}, block: {number: "+e+"}, orderBy: trackedReserveETH, orderDirection: desc) {\n        id\n        reserveUSD\n        trackedReserveETH\n        volumeUSD\n        untrackedVolumeUSD\n      }\n    }\n    ";return o()(t)},v=function(e,r){var n="\n      "+c+"\n      query pairs {\n        pairs("+(r?"block: {number: "+r+"}":"")+' where: { id: "'+e+'"} ) {\n          ...PairFields\n        }\n      }';return o()(n)}},629:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=n(641),a=n.n(t),u=n(235),o=n.n(u),i=n(103),s=n.n(i),c=n(642),l=n.n(c),d=n(153),f=n.n(d),p=n(152),v=n.n(p),m=n(614);r.default={data:function(){return{pairList:[],ethPrice:"1000"}},created:function(){this.updateList()},methods:{getPairList:function(){return this.$apollo.query({query:m.a})},updateList:function(){var e=this;return v()(f.a.mark(function r(){var n,t,a,u;return f.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getPairList();case 2:return n=r.sent,t=n.data.pairs,a=t.map(function(e){return e.id}),r.next=7,e.getBulkPairData(a,e.ethPrice);case 7:u=r.sent,console.log(u);case 9:case"end":return r.stop()}},r,e)}))()},getBulkPairData:function(e,r){var t=this;return v()(f.a.mark(function u(){var i,c,d,p,y,D,h,k,b,S,U,x,_,g,P,w,q,$,F,T,V;return f.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return i=t,c=t.$getTimestampsForChanges(),d=l()(c,3),p=d[0],y=d[1],D=d[2],u.next=4,t.getBlocksFromTimestamps([p,y,D]);case 4:return h=u.sent,k=l()(h,3),b=k[0].number,S=k[1].number,U=k[2].number,u.next=11,t.$apollo.query({query:m.b,variables:{allPairs:e}});case 11:return x=u.sent,console.log(x),u.next=15,s.a.all([b,S,U].map(function(){var r=v()(f.a.mark(function r(a){var u;return f.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u=t.$apollo.query({query:n.i(m.c)(a,e)}),r.abrupt("return",u);case 2:case"end":return r.stop()}},r,t)}));return function(e){return r.apply(this,arguments)}}()));case 15:return _=u.sent,g=l()(_,3),P=g[0],w=g[1],q=g[2],$=P.data.pairs.reduce(function(e,r,n){return o()({},e,a()({},r.id,r))},{}),F=w.data.pairs.reduce(function(e,r,n){return o()({},e,a()({},r.id,r))},{}),T=q.data.pairs.reduce(function(e,r,n){return o()({},e,a()({},r.id,r))},{}),u.next=25,s.a.all(x&&x.data.pairs.map(function(){var e=v()(f.a.mark(function e(a){var u,o,s,c,l,d,p;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=a,o=$[a.id]){e.next=7;break}return e.next=5,i.$apollo.query({query:n.i(m.d)(a.id,b),fetchPolicy:"cache-first"});case 5:s=e.sent,o=s.data.pairs[0];case 7:if(c=F[a.id]){e.next=13;break}return e.next=11,i.$apollo.query({query:n.i(m.d)(a.id,S),fetchPolicy:"cache-first"});case 11:l=e.sent,c=l.data.pairs[0];case 13:if(d=T[a.id]){e.next=19;break}return e.next=17,i.$apollo.query({query:n.i(m.d)(a.id,U),fetchPolicy:"cache-first"});case 17:p=e.sent,d=p.data.pairs[0];case 19:return u=t.parseData(u,o,c,d,r,b),e.abrupt("return",u);case 21:case"end":return e.stop()}},e,t)}));return function(r){return e.apply(this,arguments)}}()));case 25:return V=u.sent,u.abrupt("return",V);case 27:case"end":return u.stop()}},u,t)}))()},getBlocksFromTimestamps:function(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return v()(f.a.mark(function t(){var a,u,o;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,r.$splitQuery(m.e,r.$apollo,[],e,n,"other");case 4:if(a=t.sent,u=[],a)for(o in a)a[o].length>0&&u.push({timestamp:o.split("t")[1],number:a[o][0].number});return t.abrupt("return",u);case 8:case"end":return t.stop()}},t,r)}))()},parseData:function(e,r,n,t,a,u){r||(r={},r.volumeUSD=0,r.untrackedVolumeUSD=0),n||(console.log(11111),n={},n.volumeUSD=0,n.untrackedVolumeUSD=0),t||(console.log(22222),t={},t.volumeUSD=0);var o=this.$get2DayPercentChange(e.volumeUSD,r.volumeUSD?r.volumeUSD:0,n.volumeUSD?n.volumeUSD:0),i=l()(o,2),s=i[0],c=i[1],d=this.$get2DayPercentChange(e.untrackedVolumeUSD,r.untrackedVolumeUSD?parseFloat(r.untrackedVolumeUSD):0,n.untrackedVolumeUSD?n.untrackedVolumeUSD:0),f=l()(d,2),p=f[0],v=f[1],m=parseFloat(t?e.volumeUSD-t.volumeUSD:e.volumeUSD);return e.oneDayVolumeUSD=parseFloat(s),e.oneWeekVolumeUSD=m,e.volumeChangeUSD=c,e.oneDayVolumeUntracked=p,e.volumeChangeUntracked=v,e.trackedReserveUSD=e.trackedReserveETH*a,e.liquidityChangeUSD=this.$getPercentChange(e.reserveUSD,r.reserveUSD),!r.volumeUSD&&e&&e.createdAtBlockNumber>u&&(e.oneDayVolumeUSD=parseFloat(e.volumeUSD)),!r.volumeUSD&&e&&(e.oneDayVolumeUSD=parseFloat(e.volumeUSD)),!t.volumeUSD&&e&&(e.oneWeekVolumeUSD=parseFloat(e.volumeUSD)),this.$updateNameData(e),e}}}},634:function(e,r,n){e.exports={default:n(644),__esModule:!0}},635:function(e,r,n){e.exports={default:n(645),__esModule:!0}},636:function(e,r,n){e.exports={default:n(646),__esModule:!0}},637:function(e,r,n){e.exports={default:n(647),__esModule:!0}},641:function(e,r,n){"use strict";r.__esModule=!0;var t=n(603),a=function(e){return e&&e.__esModule?e:{default:e}}(t);r.default=function(e,r,n){return r in e?(0,a.default)(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}},642:function(e,r,n){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var a=n(635),u=t(a),o=n(634),i=t(o);r.default=function(){function e(e,r){var n=[],t=!0,a=!1,u=void 0;try{for(var o,s=(0,i.default)(e);!(t=(o=s.next()).done)&&(n.push(o.value),!r||n.length!==r);t=!0);}catch(e){a=!0,u=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw u}}return n}return function(r,n){if(Array.isArray(r))return r;if((0,u.default)(Object(r)))return e(r,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},643:function(e,r,n){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var a=n(636),u=t(a),o=n(637),i=t(o);r.default=function(e,r){return(0,i.default)((0,u.default)(e,{raw:{value:(0,i.default)(r)}}))}},644:function(e,r,n){n(148),n(101),e.exports=n(658)},645:function(e,r,n){n(148),n(101),e.exports=n(659)},646:function(e,r,n){n(660);var t=n(10).Object;e.exports=function(e,r){return t.defineProperties(e,r)}},647:function(e,r,n){n(661),e.exports=n(10).Object.freeze},658:function(e,r,n){var t=n(37),a=n(157);e.exports=n(10).getIterator=function(e){var r=a(e);if("function"!=typeof r)throw TypeError(e+" is not iterable!");return t(r.call(e))}},659:function(e,r,n){var t=n(149),a=n(13)("iterator"),u=n(67);e.exports=n(10).isIterable=function(e){var r=Object(e);return void 0!==r[a]||"@@iterator"in r||u.hasOwnProperty(t(r))}},660:function(e,r,n){var t=n(31);t(t.S+t.F*!n(32),"Object",{defineProperties:n(239)})},661:function(e,r,n){var t=n(42),a=n(232).onFreeze;n(240)("freeze",function(e){return function(r){return e&&t(r)?e(a(r)):r}})},670:function(e,r,n){r=e.exports=n(596)(),r.push([e.i,"",""])},686:function(e,r,n){var t=n(670);"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);n(597)("20907290",t,!0)},731:function(e,r){e.exports={render:function(){var e=this,r=e.$createElement;return(e._self._c||r)("div",{staticClass:"container pair-list"})},staticRenderFns:[]}}});